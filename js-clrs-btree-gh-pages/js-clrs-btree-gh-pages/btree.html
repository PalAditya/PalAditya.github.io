<!doctype html>
<head>
<meta charset='utf-8'>
<title>B-Tree</title>
<style>
* {
font-size: small;
}
textarea {
font-size: 14px;
font-family: 'Terminus', monospace;
}
abbr:hover {
cursor: help;
}
abbr {
text-decoration: underline;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body onload="onLoad()">
<script src="viz.js"></script>
<script src="btree.js"></script>
<script src="gui.js"></script>

<!--
<button onclick="draw()">Draw</button>
-->
<div style="float:right">
<script>
function get(name){
   if(name=(new RegExp('[?&]'+encodeURIComponent(name)+'=([^&]*)')).exec(location.search))
      return decodeURIComponent(name[1]);
}
/*setTimeout(
function hello()
{
document.getElementById('simple').innerHTML=get("structure");
document.getElementById('simplem').value=get("level");
document.getElementById('one').click();
$('body:not(#svgelem)').hide();
},3000);*/
function hello()
{
document.getElementById('simple').innerHTML=get("structure");
document.getElementById('simplem').value=get("level");
document.getElementById('one').click();
$('body:not(#svgelem)').hide();
};
$(document).ready( function () {
  hello();
});
</script>

<p><button id="one" onclick="init('simple','simplem')">Init simple</button><button onclick="init('empty','simplem')">Init empty with this M</button><input type="hidden" id="empty" value='{"keys":[]}'></input>
<br><label>M: <input id="simplem" value="2"></label><br>
<textarea id="simple" cols="60" rows="5">
{"keys": [10,20,30],
 "children": [{"keys": [1,2]}, {"keys": [11,12]}, {"keys": [21,22]}, {"keys": [31,32]}]
}
</textarea>
<p><button onclick="init('book','bookm')">Init book</button><br><label>M: <input id="bookm" value="3"></label><br>
<textarea id="book" cols="60" rows="10">
{
"keys":["P"],
"children":[
    {"keys":["C","G","M"],
     "children": [
        {"keys": ["A","B"]},
        {"keys": ["D","E","F"]},
        {"keys": ["J","K","L"]},
        {"keys": ["N","O"]}
    ]},
    {"keys":["T","X"],
     "children": [
        {"keys": ["Q","R","S"]},
        {"keys": ["U","V"]},
        {"keys": ["Y","Z"]}
    ]}
]
}
</textarea>
<p><button onclick="init('insex','insexm')">Init insex</button><br><label>M: <input id="insexm" value="3"></label><br>
<textarea id="insex" cols="60" rows="10">
{
"keys":["G","M","P","X"],
"children":[
    {"keys":["A","C","D","E"]},
    {"keys":["J","K"]},
    {"keys":["N","O"]},
    {"keys":["R","S","T","U","V"]},
    {"keys":["Y","Z"]}
]
}
</textarea>
</div>
<p><div id="svgelem"></div>
<p><textarea readonly id="out" cols="60" rows="10"></textarea>
<script>
document.getElementById("del_button").style.fontWeight = "bold";
setEnterAction("ins");
</script>
